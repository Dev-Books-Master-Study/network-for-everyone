# 네트워크의 기본 규칙

## 1. 네트워크의 규칙

### **프로토콜이란?**

서로 다른 컴퓨터 간에 `통신` 을 할 때, 지켜야 하는 `규칙`

### 컴퓨터 사이의 통신이란?

서로 `데이터`를 주고받는 것

<img width="468" alt="1" src="https://github.com/Dev-Books-Master-Study/network-for-everyone/assets/87238236/7d7dfd0f-4bce-4a66-9d23-155011fce986">


<aside>
  
✅ MDN에서는 프로토콜을 `컴퓨터 내부에서, 또는 컴퓨터 사이에서 데이터의 교환 방식을 정의하는 규칙 체계` 라고 정의하고 있음

</aside>

### 프로토콜이 필요한 이유

사람 간에 소통을 할 때, 서로 다른 언어를 사용하면 대화를 할 수 없음

⇒ 하나의 언어를 정해서 그 언어로만 대화한다는 `규칙`을 정한다면 소통을 할 수 있음 

<img width="368" alt="1" src="https://github.com/Dev-Books-Master-Study/network-for-everyone/assets/87238236/b68ed9fe-e21e-4e83-92a6-07fd4de40201">

컴퓨터간에 소통을 할 때도 마찬가지로, 서로 다른 언어를 사용하면 통신을 할 수 없음

**컴퓨터의 언어 = 데이터**

⇒ 컴퓨터는 데이터의 형식을 프로토콜이라는 규칙에 맞게 전송하고 응답받음으로써, 통신을 할 수 있음 

### 편지를 전달하는 과정

<aside>
1️⃣ 편지를 쓴다

</aside>

<aside>
2️⃣ 편지를 우체통에 넣는다

</aside>

<aside>
3️⃣ 우편배달부가 우체통에서 편지를 수거한다.

</aside>

<aside>
4️⃣ 수거한 편지를 가까운 우체국으로 가져간다

</aside>

<aside>
5️⃣ 편지를 분류한다

</aside>

<aside>
6️⃣ 우편배달부가 수신처에 가까운 우체국으로 편지를 운송한다

</aside>

<aside>
7️⃣ 운송된 편지를 수신처의 우편함에 넣는다

</aside>

<aside>
8️⃣ 우편함에서 편지를 찾는다

</aside>

<aside>
8️⃣ 편지의 내용을 읽는다

</aside>

편지를 전달할 때와 마찬가지로 컴퓨터에서 `데이터를 전송`할때도 `독립적인 여러 단계`를 거쳐 전송하게 됨

## 2. OSI 모델과 TCP/IP 모델
<img width="468" alt="1" src="https://github.com/Dev-Books-Master-Study/network-for-everyone/assets/87238236/a82045b0-7f8e-417d-b52a-adbb2a29606e">

- 데이터를 전송할 때는 상위 계층에서 하위 계층으로 데이터를 전달함
- 데이터를 받을 때는 하위 계층에서 상위 계층으로 데이터가 전달됨

### OSI 모델이란?

국제표준화기구(ISO)가 정의한 국제 통신 `표준 규약`

네트워크의 기본 구조를 `7개 계층`으로 나눠서 표준화함

- 역할에 따라 총 7개의 계층으로 나눔
- 각 계층은 다른 계층에 독립적으로 작용함
- 계층마다도 수많은 프로토콜이 존재
<img width="193" alt="4" src="https://github.com/Dev-Books-Master-Study/network-for-everyone/assets/87238236/caffc049-3fb8-4e0d-acc0-a64c600706ff">

<img width="429" alt="5" src="https://github.com/Dev-Books-Master-Study/network-for-everyone/assets/87238236/64ef07e8-deb9-41a1-b5d1-100e7a0e7618">

### 1. 물리 계층(Physical Layer)

- 시스템 간의 물리적인 연결과 전기 신호를 변환 및 제어하는 계층(=네트워크 케이블과 신호에 관한 규칙을 다루고 있는 계층)
- 물리 계층의 데이터 단위는 비트임

### 2. 데이터 링크 계층(Data Link Layer)

- 물리적 매체를 통해 데이터를 전달하는 계층임
- 물리계층에서 발생하는 오류를 탐지하고 수정하는 기능을 담당함
- 데이터 링크 계층의 데이터 단위는 프레임임

### 3. 네트워크 계층(Network Layer)

- 다른 네트워크와 통신하기 위한 경로를 설정하고, 논리 주소를 결정하는 계층
- 네트워크 계층의 데이터 단위는 패킷임

<aside>
❓ 패킷이란?

- 네트워크에서 데이터를 전달하는 단위
</aside>

### 4. 전송 계층(Transport Layer)

- 신뢰할 수 있는 통신을 구현하는 계층
- TCP, UDP 프로토콜이 대표적임

<aside>
✅ TCP 프로토콜

- 신뢰성있는 데이터 전송이 목적인 프로토콜
- 세그먼트(Segment)라는 데이터 단위를 사용함
- 모든 데이터가 손상되지 않아야 하는 경우에 사용됨
</aside>

<aside>
✅ UDP 프로토콜

- 빠른 데이터 전송이 목적인 프로토콜
- 데이터그램(Datagram)이라는 데이터 단위를 사용함
- 모든 데이터(패킷)가 보존하는 것이 덜 중요하고, 속도가 더 중요한 경우에 사용됨
</aside>

### 5. 세션 계층(Session Layer)

<aside>
❓ 세션(Session)이란?

클라이언트와 서버 간의 연결 상태를 의미함

더 정확히는 클라이언트가 브라우저에 접속한 후, 서버와의 접속을 종료하기 전까지의 상태를 말함 

</aside>

- 세션 체결, 통신 방식을 결정하는 계층
- 한 세션 안에서 두 컴퓨터 간의 네트워크를 조정하는 역할을 함

### 6. 표현 계층(Presentation Layer)

- 전송되는 정보의 구문과 의미에 관여하는 계층
- 인코딩, 데이터 압축, 암호화 등의 동작을 수행함(=데이터를 변환하는 동작을 수행함)
- txt, mp4 등 파일의 확장자는 표현 계층과 관련된 프로토콜임

### 7. 응용 계층(Application Layer)

- 사용자 인터페이스를 제공하는 계층
- 이메일과 파일 전송, 웹 사이트 조회 등 애플리케이션에 대한 서비스를 제공함
- 브라우저는 HTTPS을 사용해서 통신함
- 이메일 클라이언트는 SMTP를 사용해서 통신함

### TCP/IP 모델이란?

OSI 모델 7계층을 `4개 계층`으로 단순화시켜 사용하는 모델

`인터넷 모델`이라고도 함

- OSI 모델과 다르게 각 계층이 서로 종속적임
- 현재 OSI 모델의 대안으로 TCP/IP 모델이 주로 사용되고 있음
<img width="348" alt="6" src="https://github.com/Dev-Books-Master-Study/network-for-everyone/assets/87238236/21c762a0-8f32-4d6c-8cd9-4d0a387ec4f0">


### 1. 네트워크 접속 계층

- 하드웨어적인 요소(운영체제의 네트워크 카드, 디바이스 드라이버 등)와 관련된 것을 지원하는 계층

### 2. 인터넷 계층

- 패킷의 인터넷 주소를 결정하고, 경로를 배정하는 역할을 하는 계층

### 3. 전송 계층

- 신뢰성 있는 통신을 구현하는 계층

### 4. 응용 계층

- OSI 모델의 세션, 표현, 응용 계층을 합친 계층

## 3. 캡슐화와 역캡슐화
<img width="606" alt="7" src="https://github.com/Dev-Books-Master-Study/network-for-everyone/assets/87238236/381d6f07-3b8b-4d50-bca0-034b15f1e929">


데이터를 전송할 때는 필요한 정보를 담은 `헤더`를 붙여서 다음 계층으로 보내야 함

<aside>
❓ 헤더란?

저장되거나 전송되는 데이터의 맨 앞에 위치하는 추가적인 정보 데이터

데이터의 내용이나 성격을 식별 또는 제어하는 데 사용됨

</aside>

### 캡슐화와 역캡슐화의 전체 흐름
<img width="522" alt="8" src="https://github.com/Dev-Books-Master-Study/network-for-everyone/assets/87238236/c9572481-d509-42ba-8225-e3c0d8dba0f1">

### 캡슐화란?

데이터를 전송하는 과정에서 계층을 거치며 `헤더를 하나씩 붙여나가는 과정`

### 역캡슐화란?

데이터를 받는 과정에서 계층을 거치며 `헤더를 하나씩 제거해나가는 과정`

### 데이터 전송 과정(=캡슐화 과정)

### 1. 응용 계층

: 요청 데이터가 만들어짐

⬇️   응용 계층에서 만들어진 데이터를 전송 계층으로 전달됨

### 2. 전송 계층

: 신뢰할 수 있는 통신이 이루어지도록 데이터에 `전송 계층 헤더`를 붙임

⬇️   전송 계층 헤더를 붙인 데이터는 네트워크 계층으로 전달됨

### 3. 네트워크 계층

: 다른 네트워크와 통신하기 위한 `네트워크 계층 헤더`를 붙임

⬇️   전송 계층 헤더와 네트워크 계층 헤더를 붙인 데이터는 데이터 링크 계층으로 전달됨

### 4. 데이터 링크 계층

: 물리적 통신 채널을 연결하기 위한 `데이터 링크 계층 헤더`와 `트레일러`를 붙임

<aside>
❓ 트레일러란?

데이터를 전달할 때 데이터의 마지막에 추가하는 정보

</aside>

- 이 데이터 및 헤더는 데이터 링크 계층에 전달되며, 물리적 통신 채널을 연결하기 위한 헤더와 트레일러를 붙인다. 트레일러란 데이터를 전달할 때 마지막에 추가하는 정보를 말한다.

**데이터 링크 계층에서 만들어진 데이터는 최종적으로 전기 신호로 변환되어 수신 측에 도착함**

### 데이터 수신 과정(=역캡슐화 과정)

- 데이터 수신 측은 데이터 링크 계층에서 응용 계층 순서로 데이터를 전달하며 각 계층에서 헤더를 제거함
- 응용 계층은 최종적으로 모든 헤더가 제거된 데이터를 받음
